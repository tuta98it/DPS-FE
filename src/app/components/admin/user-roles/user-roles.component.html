<div class="grid">
  <div class="col-12 p-0">
    <div class="card admin-content m-0">
      <div class="my-2">
        <span class="block p-input-icon-left">
          <i class="pi pi-search"></i>
          <input pInputText type="text" placeholder="Tìm kiếm..." class="w-full sm:w-auto p-inputtext-sm"
            [(ngModel)]="searchData.keyword" (keydown.enter)="search()" />
          <button pButton pRipple icon="pi pi-search" class="p-button-primary mr-2 ml-2 p-button-sm"
            (click)="search()"></button>
          <button pButton pRipple icon="pi pi-times" class="p-button-secondary p-button-sm"
            (click)="resetSearch()"></button>
        </span>
      </div>
      <m-table [isLazyLoad]="false" [items]="userRoles" [dataKey]="'id'" [loading]="loading" [customBodyTemplate]="customBodyTemplate" 
        [customHeaderTemplate]="customHeaderTemplate" [tableStyleClass]="'p-datatable-sm'" [calcHeight]="215">
      </m-table>
      <ng-template #customHeaderTemplate>
        <th [style.minWidth]="'15rem'">UserId</th>
        <th [style.minWidth]="'12rem'">Tài khoản</th>
        <th [style.minWidth]="'12rem'">Họ và tên</th>
        <th *ngFor="let role of roles; let i = index" [style.minWidth]="'5rem'">{{role}}</th>
      </ng-template>
      <ng-template #customBodyTemplate let-rowData>
          <td [style.minWidth]="'15rem'">{{rowData['id']}}</td>
          <td [style.minWidth]="'12rem'">{{rowData['username']}}</td>
          <td [style.minWidth]="'12rem'">{{rowData['fullname']}}</td>
          <td *ngFor="let role of roles; let i = index" class="text-center" [style.minWidth]="'5rem'">
            <i *ngIf="rowData.roles.includes(role)" class="pi pi-check text-xl text-green-500 font-bold"></i>
          </td>
      </ng-template>
    </div>
  </div>
</div>