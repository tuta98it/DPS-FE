<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>DPS Viewer</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <link rel="stylesheet" href="styles/kendo/jquery-ui.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.common-material.core.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.material.mobile.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.common-material.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.material.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.dataviz.material.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.material.mobile.min.css" />
        <link rel="stylesheet" href="styles/kendo/kendo.default.mobile.min.css" />
        <link rel="stylesheet" href="styles/fontawesome-free-5.8.1-web/css/all.css" />

        <link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="styles/jquery-confirm.css" />

        <link rel="stylesheet" type="text/css" href="styles/theme-colorful.css" />
        <link rel="stylesheet" type="text/css" href="styles/dpsviewer.css" />

        <script src="scripts/jquery.min.js" type="text/javascript"></script>
        <script src="scripts/jquery-ui.min.js" type="text/javascript"></script>
        <script src="scripts/jquery-resizable.js" type="text/javascript"></script>
        <script src="scripts/jquery-confirm.js" type="text/javascript"></script>

        <script src="scripts/kendo/kendo.web.min.js"></script>
        <script type="text/javascript" src="styles/fontawesome-free-5.8.1-web/js/all.min.js"></script>

        <script src="scripts/openseadragon.js"></script>
        <script src="scripts/openseadragonselection.js"></script>
        <script src="scripts/openseadragon-scalebar.js"></script>
        <script src="scripts/openseadragonzoomlevels.js"></script>
        <script src="scripts/OpenSeadragonHTMLelements.js"></script>
        <!-- <script src="scripts/fabric.js"></script> -->
        <script src="scripts/fabric.adapted.js"></script>
        <script src="scripts/openseadragon-fabricjs-overlay.js"></script>

        <script src="build/mscdps.min.js" type="text/javascript"></script>
        <script>
            function showMainSlide() {
                mscdps.showSlide('openseadragonWindow');
            }
            $(document).ready(function () {
                // showMainSlide();
                mscdps.init('openseadragonWindow');
            });
        </script>
    </head>
    <body>
        <div id="main-content">

            <!-- Thanh công cụ bên trái -->
            <div class="show-tool-box">
                <i class="fas fa-chevron-right"></i>
            </div>
    
            <div id="tool-box" style="max-width:70px;">
                <!--
                <div class="tool-btn" onclick="console.log('Hide annotations')" title="Hide annotations" id="tool_hideAnnotation">
                    <img src="~/images/tool-bar-icon/key-image.png" />
                </div>
                <hr />-->
                <div class="tool-btn one-at-a-time clinical-no-need" title="Pointer" id="tool_pointer" active="" deactive="">
                    <!--<img src="~/images/tool-bar-icon/click.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="17.21" height="22.947" viewBox="0 0 17.21 22.947">
                        <g transform="translate(-67.732 -25.06)">
                            <path class="stroke" data-name="Path 14" d="M230.286,183.746l-15.776-12.908a.717.717,0,0,0-1.17.555v21.513a.717.717,0,0,0,.509.687.708.708,0,0,0,.208.03.717.717,0,0,0,.6-.32l5.525-8.285h9.655a.717.717,0,0,0,.453-1.272Z" transform="translate(-145.607 -145.616)" />
                        </g>
                    </svg>
                </div>
    
                <div class="tool-btn one-at-a-time clinical-no-need" title="Tạo key image" id="tool_createKeyImage" active="mscdps.enableKeyImage()" deactive="mscdps.disableKeyImage()">
                    <!--<img src="~/mages/tool-bar-icon/selection-square.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="22.677" height="22.678" viewBox="0 0 22.677 22.678">
                        <g transform="translate(-0.008)">
                            <path class="stroke" data-name="Path 15" d="M137.383,409.386a.531.531,0,0,0,.531.531h2.045a.531.531,0,0,0,.531-.531v-.439a.531.531,0,0,0-.531-.531h-2.045a.531.531,0,0,0-.531.531Z" transform="translate(-130.696 -388.56)" />
                            <path class="stroke" data-name="Path 16" d="M265.18,409.386a.531.531,0,0,0,.531.531h2.045a.531.531,0,0,0,.531-.531v-.439a.531.531,0,0,0-.531-.531h-2.045a.531.531,0,0,0-.531.531Z" transform="translate(-252.28 -388.56)" />
                            <path class="stroke" data-name="Path 17" d="M28.687,137.922a.531.531,0,0,0-.531-.531h-.439a.531.531,0,0,0-.531.531v2.045a.531.531,0,0,0,.531.531h.439a.531.531,0,0,0,.531-.531Z" transform="translate(-25.858 -130.712)" />
                            <path class="stroke" data-name="Path 18" d="M409.915,137.922a.531.531,0,0,0-.531-.531h-.439a.531.531,0,0,0-.531.531v2.045a.531.531,0,0,0,.531.531h.439a.531.531,0,0,0,.531-.531Z" transform="translate(-388.552 -130.712)" />
                            <path class="stroke" data-name="Path 19" d="M27.187,267.773a.531.531,0,0,0,.531.531h.439a.531.531,0,0,0,.531-.531v-2.045a.531.531,0,0,0-.531-.531h-.439a.531.531,0,0,0-.531.531Z" transform="translate(-25.858 -252.304)" />
                            <path class="stroke" data-name="Path 20" d="M137.383,28.156a.531.531,0,0,0,.531.531h2.045a.531.531,0,0,0,.531-.531v-.439a.531.531,0,0,0-.531-.531h-2.045a.531.531,0,0,0-.531.531Z" transform="translate(-130.696 -25.864)" />
                            <path class="stroke" data-name="Path 21" d="M265.188,28.156a.531.531,0,0,0,.531.531h2.045a.531.531,0,0,0,.531-.531v-.439a.531.531,0,0,0-.531-.531h-2.045a.531.531,0,0,0-.531.531Z" transform="translate(-252.288 -25.864)" />
                            <path class="stroke" data-name="Path 22" d="M408.415,267.755a.531.531,0,0,0,.531.531h.439a.531.531,0,0,0,.531-.531V265.71a.531.531,0,0,0-.531-.531h-.439a.531.531,0,0,0-.531.531Z" transform="translate(-388.552 -252.287)" />
                            <path class="stroke" data-name="Path 23" d="M4.152.546a.531.531,0,0,0-.531-.53H.54a.531.531,0,0,0-.531.53V3.629a.531.531,0,0,0,.531.53H3.621a.531.531,0,0,0,.531-.531V.546Z" transform="translate(-0.001 -0.015)" />
                            <path class="stroke" data-name="Path 24" d="M4.151,381.776a.531.531,0,0,0-.531-.53H.539a.531.531,0,0,0-.531.53v3.082a.531.531,0,0,0,.531.53H3.62a.531.531,0,0,0,.531-.53v-3.082Z" transform="translate(0 -362.711)" />
                            <path class="stroke" data-name="Path 25" d="M384.851,0H381.77a.531.531,0,0,0-.531.53V3.613a.531.531,0,0,0,.531.53h3.081a.531.531,0,0,0,.531-.53V.53A.531.531,0,0,0,384.851,0Z" transform="translate(-362.697 0)" />
                            <path class="stroke" data-name="Path 26" d="M384.851,381.246H381.77a.531.531,0,0,0-.531.53v3.082a.531.531,0,0,0,.531.53h3.081a.531.531,0,0,0,.531-.53v-3.082A.531.531,0,0,0,384.851,381.246Z" transform="translate(-362.697 -362.711)" />
                        </g>
                    </svg>
                </div>
                <div class="separator"></div>
                <div title="Free drawing" id="tool_freehandRegion" class="tool_freehand tool-btn one-at-a-time clinical-no-need" active="mscdps.enableFreeRegion()" deactive="mscdps.disableFreeRegion()">
                    <!--<img src="~/images/tool-bar-icon/write.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="23.026" height="23.026" viewBox="0 0 23.026 23.026">
                        <g data-name="Group 24" transform="translate(0 16.128)">
                            <g data-name="Group 23">
                                <path data-name="Path 27" d="M3.29,364.148l3.6-1.489,0,0L2.854,358.61l0,0L.562,364.148H.008v1.342L0,365.508l.029-.012H19.642v-1.348Z" transform="translate(0 -358.61)" class="stroke" />
                            </g>
                        </g>
                        <g data-name="Group 26" transform="translate(3.807 6.218)">
                            <g data-name="Group 25">
                                <path data-name="Path 28" d="M93.613,138.265l-8.956,8.957,4.044,4.044,8.957-8.956Z" transform="translate(-84.657 -138.265)" class="stroke" />
                            </g>
                        </g>
                        <g data-name="Group 28" transform="translate(13.717 3.97)">
                            <g data-name="Group 27">
                                <path data-name="Path 29" d="M306.288,88.264l-1.3,1.3,4.045,4.044,1.3-1.3Z" transform="translate(-304.992 -88.264)" class="stroke" />
                            </g>
                        </g>
                        <g data-name="Group 30" transform="translate(15.965)">
                            <g data-name="Group 29">
                                <path data-name="Path 30" d="M358.01,0l-3.017,3.017,4.045,4.045,3.017-3.017Z" transform="translate(-354.993)" class="stroke" />
                            </g>
                        </g>
                        <g data-name="Group 32" transform="translate(12.184 18.545)">
                            <g data-name="Group 31">
                                <rect data-name="Rectangle 55" width="7.234" height="1.348" class="stroke" />
                            </g>
                        </g>
                    </svg>
                </div>
    
                <div title="Add line" id="tool_freehandLine" class="tool_freehand tool-btn one-at-a-time clinical-no-need" active="mscdps.enableLine()" deactive="mscdps.disableLine()">
                    <!--<img src="~/images/tool-bar-icon/vector.svg" />-->
                    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="22.5" height="22.5" viewBox="0 0 22.5 22.5">
                        <g transform="translate(0.5 0.5)">
                            <g data-name="Group 33">
                                <path data-name="Path 31" d="M21.142,0h-2.15a.358.358,0,0,0-.358.358v2L2.36,18.634h-2A.358.358,0,0,0,0,18.992v2.15a.358.358,0,0,0,.358.358h2.15a.358.358,0,0,0,.358-.358v-2L19.14,2.867h2a.358.358,0,0,0,.358-.358V.358A.358.358,0,0,0,21.142,0ZM2.15,20.784H.717V19.35H2.15ZM20.784,2.15H19.35V.717h1.433Z" class="stroke stroke-stroke" stroke-width="1" />
                            </g>
                        </g>
                    </svg> -->

                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                        width="22.5" height="22.5" viewBox="0 0 170.000000 172.000000"
                        preserveAspectRatio="xMidYMid meet">
                        <g transform="translate(0.000000,172.000000) scale(0.100000,-0.100000)"
                            fill="#505050" stroke="none" class="stroke">
                            <path d="M795 1615 c-16 -15 -25 -36 -25 -55 0 -19 9 -40 25 -55 l24 -25 278
                            0 278 0 -663 -663 c-607 -607 -662 -665 -662 -695 0 -44 38 -82 82 -82 30 0
                            88 55 695 662 l663 663 0 -278 0 -278 25 -24 c32 -33 78 -33 110 0 l25 24 0
                            391 0 391 -25 24 -24 25 -391 0 -391 0 -24 -25z"/>
                        </g>
                    </svg>
                </div>
    
                <div title="Add regtangle" id="tool_freeDrawingRectangle" class="tool_freehand tool-btn one-at-a-time clinical-no-need" active="mscdps.enableRect()" deactive="mscdps.disableRect()">
                    <!--<img src="~/images/tool-bar-icon/Rectangle 54.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23">
                        <g data-name="Rectangle 54" fill="#fff" class="stroke-stroke" stroke-width="2">
                            <rect width="24" height="23" stroke="none" />
                            <rect x="1" y="1" width="22" height="21" fill="none" />
                        </g>
                    </svg>
                </div>
    
                <div title="Add ellipse" id="tool_freeDrawingEllipse" class="tool_freehand tool-btn one-at-a-time clinical-no-need" active="mscdps.enableEllipse()" deactive="mscdps.disableEllipse()">
                    <!--<img src="~/images/tool-bar-icon/Ellipse 4.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23">
                        <g data-name="Ellipse 4" fill="#fff" class="stroke-stroke" stroke-width="2">
                            <circle cx="11.5" cy="11.5" r="11.5" stroke="none" />
                            <circle cx="11.5" cy="11.5" r="10.5" fill="none" />
                        </g>
                    </svg>
                </div>

                <div title="Add polygon" id="tool_polygon" class="tool_freehand tool-btn one-at-a-time clinical-no-need" active="mscdps.enablePolygon()" deactive="mscdps.disablePolygon()">
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                        width="24" height="24" viewBox="0 0 256.000000 256.000000"
                        preserveAspectRatio="xMidYMid meet">
                        <g transform="translate(0.000000,256.000000) scale(0.100000,-0.100000)" fill="#505050" stroke="none" class="stroke">
                            <path d="M1658 2460 c-78 -23 -151 -93 -177 -169 -30 -92 1 -205 76 -272 50
                            -46 101 -63 178 -63 142 1 249 114 247 262 -2 108 -70 202 -171 237 -48 16
                            -109 18 -153 5z m101 -161 c63 -22 80 -102 32 -150 -38 -37 -88 -39 -128 -5
                            -50 43 -32 130 32 157 27 11 28 11 64 -2z"/>
                            <path d="M980 2149 c-416 -82 -386 -75 -410 -99 -23 -23 -26 -76 -6 -102 31
                            -42 47 -40 443 38 208 41 388 81 399 89 65 42 21 148 -59 144 -12 -1 -177 -32
                            -367 -70z"/>
                            <path d="M160 2159 c-124 -56 -184 -183 -147 -310 33 -110 133 -183 252 -183
                            185 0 310 208 225 373 -43 83 -136 141 -230 141 -34 0 -72 -8 -100 -21z m168
                            -175 c34 -39 30 -95 -9 -128 -86 -73 -194 26 -133 122 31 48 102 51 142 6z"/>
                            <path d="M1843 1922 c-27 -4 -63 -47 -63 -75 0 -11 70 -211 155 -446 164 -449
                            175 -471 234 -471 32 0 68 30 77 64 7 28 -299 871 -328 903 -22 24 -42 30 -75
                            25z"/>
                            <path d="M222 1603 c-7 -3 -19 -18 -28 -34 -13 -26 -14 -82 -9 -432 4 -243 11
                            -413 17 -430 20 -52 88 -64 127 -24 l22 24 -3 426 -3 425 -24 26 c-24 25 -65
                            33 -99 19z"/>
                            <path d="M2212 887 c-44 -14 -118 -80 -142 -127 -86 -168 39 -372 228 -372
                            102 0 187 51 232 138 33 66 35 170 3 230 -29 54 -101 117 -151 132 -47 14
                            -125 14 -170 -1z m157 -182 c39 -39 30 -109 -18 -138 -41 -24 -74 -21 -110 9
                            -24 20 -31 34 -31 63 0 90 95 130 159 66z"/>
                            <path d="M1258 576 c-446 -66 -634 -97 -652 -109 -48 -32 -44 -98 8 -132 23
                            -16 61 -11 682 79 732 107 704 100 704 177 0 46 -36 80 -84 78 -17 -1 -313
                            -43 -658 -93z"/>
                            <path d="M200 595 c-101 -32 -180 -138 -180 -241 0 -107 49 -187 143 -234 127
                            -63 266 -21 337 103 50 87 40 208 -24 292 -55 72 -185 110 -276 80z m144 -186
                            c42 -50 29 -116 -28 -143 -65 -30 -131 13 -131 86 0 83 105 121 159 57z"/>
                        </g>
                    </svg>
                </div>
                <div class="separator"></div>
                <div id="ruler-btn" class="tool-btn one-at-a-time clinical-no-need" title="Measure distance" active="mscdps.enableRuler()" deactive="mscdps.disableRuler()">
                    <!--<img src="~/images/tool-bar-icon/surface1.svg"/>-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="25.952" height="25.983" viewBox="0 0 25.952 25.983">
                        <g transform="translate(17.021 0.671) rotate(45)">
                            <path data-name="Path 32" d="M6.757,0H.488A.437.437,0,0,0,.051.437V22.685a.437.437,0,0,0,.437.437h6.27a.437.437,0,0,0,.437-.437V.437A.437.437,0,0,0,6.757,0ZM6.321,2.949H5.241a.437.437,0,0,0,0,.874H6.321V5.282H5.241a.437.437,0,0,0,0,.874H6.321V7.629H4.258a.437.437,0,1,0,0,.874H6.321V9.962H5.241a.437.437,0,0,0,0,.874H6.321V12.3H5.241a.437.437,0,1,0,0,.874H6.321v1.446H4.258a.437.437,0,1,0,0,.874H6.321v1.459H5.241a.437.437,0,1,0,0,.874H6.321v1.459H5.241a.437.437,0,1,0,0,.874H6.321v2.075H.925V.874h5.4Zm0,0" transform="translate(0 0)" class="stroke stroke-stroke" stroke-width="1" />
                            <path data-name="Path 33" d="M226.431,28.255a.437.437,0,0,0,.332-.721l-1.35-2.351a.437.437,0,0,0-.6-.158.432.432,0,0,0-.159.158L223.264,27.6a.437.437,0,0,0,.38.655h.957V42.8h-.957a.437.437,0,0,0-.38.655l1.394,2.416a.437.437,0,0,0,.6.158.433.433,0,0,0,.158-.158l1.394-2.416a.437.437,0,0,0-.38-.655h-.957V28.255Zm-.756,15.423-.638,1.105-.638-1.105Zm-1.276-16.3.638-1.105.638,1.105Zm0,0" transform="translate(-214.243 -23.969)" class="stroke stroke-stroke" stroke-width="1" />
                        </g>
                    </svg>
                </div>
                <div title="Delete selecting annotation" class="tool-btn flashing clinical-no-need" id="tool_deleteAnnotation" onclick="mscdps.removeCurrentAnnotation()">
                    <!--<img src="~/images/tool-bar-icon/eraser.svg" />-->
                    <svg xmlns="http://www.w3.org/2000/svg" width="23" height="20.63" viewBox="0 0 23 20.63">
                        <path d="M21.8,32.992H13.3l1.912-1.952c.02-.02.037-.048.055-.068l7.44-7.443a.888.888,0,0,0,0-1.251l-7.251-7.251a.885.885,0,0,0-1.248,0l-8.56,8.56a.868.868,0,0,0-.1.125L.517,28.739a1.79,1.79,0,0,0-.031,2.485l3.2,3.379a2.769,2.769,0,0,0,1.264.719,1.2,1.2,0,0,0,.351.065,1.962,1.962,0,0,0,.206.012H21.8a1.2,1.2,0,0,0,0-2.407ZM2.821,30.322a.435.435,0,0,1-.117-.253l-.051-.053.052-.051a.44.44,0,0,1,.124-.261l4.859-4.859a.431.431,0,0,1,.612,0l4.594,4.694a.447.447,0,0,1,0,.621l-2.732,2.773c-.018.018-.038.057-.059.057H5.365c-.023,0-.044-.043-.063-.062Z" transform="translate(-0.001 -14.769)" class="stroke" />
                    </svg>
                </div>
                <div title="Show/hide all annotations" class="tool-btn one-at-a-time clinical-no-need" id="tool_hideAnnotations" active="mscdps.showHideAnnotations()" deactive="mscdps.showHideAnnotations()">
                    <!--<img src="~/images/tool-bar-icon/eraser.svg" />-->
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                        width="24" height="24" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">

                        <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
                        stroke="none" class="stroke">
                        <path d="M4235 4483 c-16 -9 -145 -133 -285 -275 l-255 -260 -125 65 c-562
                        295 -1143 350 -1705 162 -592 -198 -1201 -690 -1765 -1425 -118 -154 -122
                        -177 -54 -307 213 -409 630 -857 1016 -1095 26 -16 48 -32 48 -36 0 -3 -96
                        -103 -214 -222 -118 -119 -220 -228 -225 -244 -31 -79 -1 -166 69 -203 51 -27
                        92 -29 142 -5 23 11 645 638 1785 1801 961 982 1757 1796 1767 1810 29 36 33
                        126 8 171 -37 67 -141 99 -207 63z m-1564 -523 c130 -13 276 -43 399 -82 109
                        -35 285 -108 348 -146 l44 -25 -155 -155 -156 -156 -38 26 c-109 72 -256 129
                        -392 153 -314 55 -652 -57 -878 -293 -114 -118 -188 -248 -239 -419 -36 -118
                        -45 -329 -20 -452 25 -122 71 -240 132 -337 l54 -86 -119 -127 c-66 -69 -162
                        -168 -213 -219 l-94 -93 -92 58 c-334 211 -633 510 -840 842 l-63 101 76 96
                        c744 934 1515 1385 2246 1314z m84 -720 c76 -24 167 -69 163 -81 -2 -4 -208
                        -217 -458 -473 -506 -517 -456 -480 -506 -383 -64 124 -82 314 -44 461 62 244
                        261 434 515 492 83 19 240 11 330 -16z"/>
                        <path d="M4065 3620 c-48 -11 -82 -38 -105 -84 -45 -94 -26 -132 141 -283 167
                        -150 390 -379 533 -546 60 -70 115 -135 121 -145 11 -14 4 -31 -46 -110 -387
                        -615 -997 -1043 -1684 -1181 -169 -34 -311 -44 -538 -38 -227 5 -341 21 -559
                        76 -133 34 -165 31 -222 -19 -63 -56 -69 -146 -15 -215 30 -37 64 -51 196 -85
                        259 -64 350 -75 673 -75 261 0 310 3 425 23 496 86 910 269 1315 582 123 96
                        374 346 480 480 163 206 340 497 340 561 0 16 -6 44 -14 62 -14 34 -151 206
                        -289 362 -182 206 -552 565 -637 617 -32 20 -77 27 -115 18z"/>
                        <path d="M3320 2889 c-37 -15 -61 -40 -81 -83 -15 -34 -17 -58 -12 -161 7
                        -150 -10 -239 -70 -358 -55 -111 -169 -226 -282 -284 -124 -64 -185 -77 -365
                        -78 -133 0 -160 -3 -183 -18 -94 -61 -89 -212 9 -269 77 -45 297 -47 467 -4
                        174 44 307 119 441 246 132 126 219 269 271 445 33 109 46 331 26 428 -24 114
                        -123 175 -221 136z"/>
                        </g>
                        </svg>
                </div>
    
                <!--<hr class="clinical-no-need"/>-->
    
                <!--<div class="tool-btn one-at-a-time flashing" title="Pin">
                        <img src="~/images/tool-bar-icon/pin.png" onclick="annotation.SaveCanvas(caseStudyId, slideId)" />
                    </div>-->
    
                <div class="h-float-bottom float-bottom">
                    <div class="tool-btn one-at-a-time flashing" title="Cài đặt" onclick="mscdps.showUserSettings()">
                        <!--<img src="~/images/tool-bar-icon/customer-support.svg" />-->
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 28.287 28.288">
                            <g transform="translate(-0.273 0)" class="stroke-stroke" stroke-width="1">
                                <path data-name="Path 76" d="M.374,2.668l1.885,3.3a.471.471,0,0,0,.294.223l1.759.44,6.032,6.032L11.011,12,4.885,5.869a.47.47,0,0,0-.219-.124l-1.69-.424-1.6-2.81L2.747,1.135,5.559,2.742l.424,1.69a.47.47,0,0,0,.124.219l6.126,6.126.666-.666L6.868,4.078l-.44-1.758a.472.472,0,0,0-.223-.3L2.906.141A.471.471,0,0,0,2.34.217L.455,2.1a.471.471,0,0,0-.081.566Zm0,0" transform="translate(-0.039 -0.075)" class="stroke" />
                                <path data-name="Path 77" d="M185.015,174.385l-10.368,10.368-.666-.667,10.368-10.368Zm0,0" transform="translate(-165.086 -165.097)" class="stroke" />
                                <path data-name="Path 78" d="M52.869,399.065a.471.471,0,0,0-.4-.229H49.638a.471.471,0,0,0-.4.229l-1.414,2.356a.471.471,0,0,0,0,.485l1.414,2.356a.471.471,0,0,0,.4.229h2.827a.471.471,0,0,0,.4-.229l1.414-2.356a.471.471,0,0,0,0-.485Zm-.671,4.484H49.9l-1.131-1.885,1.131-1.885H52.2l1.131,1.885Zm0,0" transform="translate(-45.123 -379.042)" class="stroke" />
                                <path data-name="Path 79" d="M22.894,11.311A5.636,5.636,0,0,0,28.375,4.29a.471.471,0,0,0-.79-.22L24.652,7l-2.328-.776L21.548,3.9,24.481.965A.471.471,0,0,0,24.26.174a5.638,5.638,0,0,0-7.022,5.482,5.531,5.531,0,0,0,.115,1.1L7.033,17.081a5.56,5.56,0,0,0-1.1-.115,5.655,5.655,0,1,0,5.655,5.655,5.546,5.546,0,0,0-.115-1.1l2.471-2.471,1.081,1.081a.471.471,0,0,0,.667,0l.236-.236a.529.529,0,0,1,.748.747h0l-.236.236a.471.471,0,0,0,0,.666l5.622,5.622a3.8,3.8,0,1,0,5.4-5.354l-.024-.024-5.622-5.621a.471.471,0,0,0-.666,0l-.236.236a.529.529,0,0,1-.749-.746h0l.236-.236a.471.471,0,0,0,0-.666l-1.081-1.081L21.79,11.2A5.545,5.545,0,0,0,22.894,11.311Zm1.852,16.023a2.864,2.864,0,0,1-1-.183l3.68-3.681a2.858,2.858,0,0,1-2.678,3.863ZM19.407,15.086a1.471,1.471,0,0,0,2.073,2.071l5.289,5.293c.057.058.111.118.163.18L22.9,26.659c-.062-.052-.123-.105-.18-.163L17.43,21.2a1.471,1.471,0,0,0-2.074-2.071l-.754-.754,4.05-4.044Zm1.9-4.74L10.619,21.035a.472.472,0,0,0-.124.448,4.744,4.744,0,1,1-3.427-3.427.475.475,0,0,0,.448-.124L18.2,7.243a.471.471,0,0,0,.124-.448A4.69,4.69,0,0,1,23.161.951L20.676,3.438a.471.471,0,0,0-.114.482L21.5,6.748a.472.472,0,0,0,.3.3l2.828.943a.471.471,0,0,0,.482-.114L27.6,5.389c.006.09.009.179.009.268a4.688,4.688,0,0,1-5.852,4.566.472.472,0,0,0-.448.124h0Zm0,0" transform="translate(0 0)" class="stroke" />
                                <path data-name="Path 80" d="M388.27,387.337,387.6,388l-4.712-4.712.666-.667Zm0,0" transform="translate(-363.628 -363.636)" class="stroke" />
                            </g>
                        </svg>
                    </div>
                    <div class="tool-btn one-at-a-time flashing" title="Chi tiết slide" onclick="mscdps.showDlgSlideDetail()">
                        <!--<img src="~/images/tool-bar-icon/round-information-button.svg" />-->
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 28.248 28.248">
                            <g data-name="Group 36" class="stroke-stroke" stroke-width="1">
                                <path data-name="Path 37" d="M14.123,0A14.124,14.124,0,1,0,28.248,14.124,14.14,14.14,0,0,0,14.123,0Zm0,26.4A12.271,12.271,0,1,1,26.4,14.124,12.285,12.285,0,0,1,14.123,26.4Z" class="stroke" />
                                <path data-name="Path 38" d="M180.04,93.462a1.235,1.235,0,1,0-1.235-1.235A1.235,1.235,0,0,0,180.04,93.462Z" transform="translate(-166.178 -84.566)" class="stroke" />
                                <path data-name="Path 39" d="M167.129,151.2h-.775v-8.829a.926.926,0,0,0-.926-.926h-1.7a.926.926,0,0,0,0,1.852h.775v7.9h-.775a.926.926,0,0,0,0,1.852h3.4a.926.926,0,1,0,0-1.852Z" transform="translate(-151.304 -131.459)" class="stroke" />
                            </g>
                        </svg>
                    </div>
                    <div class="tool-btn one-at-a-time flashing" title="Trợ giúp" onclick="mscdps.showDlgSlideHelper()">
                        <!--<img src="~/images/tool-bar-icon/help.svg" />-->
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 27.973 27.973">
                            <g data-name="Group 35" class="stroke-stroke" stroke-width="1">
                                <g data-name="Group 34">
                                    <path data-name="Path 34" d="M223.114,343.22a1.467,1.467,0,0,0,0,2.933,1.466,1.466,0,0,0,0-2.933Z" transform="translate(-209.556 -324.468)" class="stroke" />
                                    <path data-name="Path 35" d="M187.774,140c-2.571,0-3.752,1.523-3.752,2.552a1.092,1.092,0,0,0,1.143,1.086c1.028,0,.609-1.466,2.552-1.466.952,0,1.714.419,1.714,1.295,0,1.028-1.066,1.619-1.695,2.152a3.486,3.486,0,0,0-1.276,2.895c0,.99.267,1.276,1.047,1.276.933,0,1.124-.419,1.124-.781a2.392,2.392,0,0,1,1.067-2.38c.514-.4,2.133-1.695,2.133-3.485S190.211,140,187.774,140Z" transform="translate(-173.968 -132.353)" class="stroke" />
                                    <path data-name="Path 36" d="M13.986,0A13.979,13.979,0,0,0,0,13.986V26.88a1.093,1.093,0,0,0,1.093,1.093H13.986A13.986,13.986,0,1,0,13.986,0Zm0,25.787H2.185v-11.8a11.8,11.8,0,1,1,11.8,11.8Z" class="stroke" />
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
                <!--
                <hr />
                <div title="Mở báo cáo" onclick="">
                    <img src="~/images/tool-bar-icon/report.png" />
                </div>
                -->
            </div>

            <!-- Khung slide viewer -->
            <div id="slide-viewer">
                <!--
                <div id="tooltip-zoom-level" class="h-tooltip zoom-level">
                    55x
                </div>-->
                
                <div id="slide-title" style="display: none;">
                    Bệnh nhân: <span id="patientsName">PatientName here</span>
                    <div class="pull-right" id="hide-right-panel">
                        <i class="fas fa-eye-slash"></i>
                    </div>
                    <div class="pull-right" id="show-right-panel" style="display: none">
                        <i class="fas fa-eye"></i>
                    </div>
                </div>

                <!--Khung key image dành cho bác sĩ lâm sàng-->
                <div style="width: 100%; height: 100%; display: flex; position: relative">
                    <div id="openseadragonWindow">    
                    </div>
                    <div id="for-clinican">
                        <div id="slide-method">PP nhuộm</div>
                        <div class="list-key-image">
                            <!--<div class="image-container">
                                    <div class="image-box">
                                        <img src="\Uploads\Thumbnails\2019\9\7\5d73588a9e4a8319d8b12015.jpg" />
                                    </div>
                                    <div class="text-box">
                                        <div class="title">
                                            đây là tiêu đề của keyimage
                                        </div>
                                        <div class="note">
                                            lorem impsum lorem impsumlorem impsumlorem impsumlorem impsumlorem impsumlorem impsumlorem impsumlorem impsum
                                        </div>
                                    </div>
                                </div>-->
                        </div>
                    </div>
                    <div class="zoom-bar">
                        <!--<div class="drag-icon">
                                <i class="fas fa-grip-vertical"></i>
                            </div>-->
                        <!-- <div class="zoom-btn-group">
                            <div class="h-unselectable zoom-btn" style="margin-left: 0px;" onclick="mscdps.fitByRatio(0)">
                                FIT
                            </div>
                            <div class="h-unselectable zoom-btn" onclick="mscdps.fitByRatio(10)">
                                10X
                            </div>
                            <div class="h-unselectable zoom-btn" onclick="mscdps.fitByRatio(20)">
                                20X
                            </div>
                            <div class="h-unselectable zoom-btn" onclick="mscdps.fitByRatio(40)">
                                40X
                            </div>
                        </div> -->
                        <div class="zoom-slider">
                            <input id="zoomSlider" style="width: 150px" />
                            <!--kendo-slider
                               k-tooltip="{ enabled: true }"
                               k-show-buttons="false"
                               k-small-step="0.01"
                               k-min="0"
                               k-max="1000"
                               k-tick-placement="'none'" -->
                        </div>
                        <div class="h-unselectable zoom-level">
                            <div id="zoom-level">
                            </div>
                        </div>
                    </div>
                    <div class="float-button-container" onclick="mscdps.openReport()">
                        <div class="h-icon-btn float-button red">
                            <img src="./styles/images/report.svg" />
                        </div>
                        <div class="outline-1">
                        </div>
                        <div class="outline-2">
                        </div>
                    </div>
                    <div class="h-unselectable h-hud" id="slide-info" style="display:none;">
                        <table>
                            <tr>
                                <td>
                                    Magnification:&emsp;
                                </td>
                                <td>
                                    <span id="current-magnification"></span>/
                                    <span id="max-magnification"></span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Size:&emsp;
                                </td>
                                <td>
                                    <div id="slide-size">
    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Model:&emsp;
                                </td>
                                <td>
                                    <div id="manufacture-model">
    
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="h-unselectable h-hud patient-hud" id="divPatientHUD">
                    Patient & Study info
                </div>
            </div>
    
            <div id="right-panel-container" style="position: relative">
                <div class="left-piece" onclick="mscdps.toggleRightPanel()">
                    <div class="inner-icon">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                <div id="key-image">
                    <div class="panel-title">Slides</div>
                    <div id="slides-box">
                    </div>
                    <hr class="clinical-no-need" />

                    <div class="clinical-no-need">
                        <div class="panel-title-tab tab-active" id="tab-keyimage" onclick="mscdps.showKeyImagePanel()">Key image <span id="lblKeyImageCount"></span></div>
                        <div class="panel-title-tab" id="tab-annotation" onclick="mscdps.showAnnotationPanel()">Annotation <span id="lblAnnotationCount"></span></div>
                        <!--<div class="pull-right" title="Mở key-image slider"  style="cursor: pointer; margin-right: 10px"><i class="fas fa-eye"></i></div>-->
                    </div>
                    <div class="clear-both"></div>
                    <div id="images-box" class="clinical-no-need"></div>
                    <div id="annotations-box" class="clinical-no-need" style="display: none;"></div>
                </div>
            </div>

            <div id="slide-viewer-loading">
                <img src="styles/images/gear-4.1s-65px.svg" />
            </div>
    
            <!--
                Cửa sổ nhập chú thích cho annotation
            -->
            <div id="annotationDialog" style="display: none;" tabindex="-1">
                <div class="windows-content">
                    <span>Hãy nhập label của ghi chú và nhấn phím Enter</span><br/>
                    <input id="annotation_uuid" style="display: none" />
                    <input id="annotation_text" class="bordered-input pd-left-20" tabindex="-1" />
                </div>
            </div>
    
            <div id="ConfirmDeleteAnontation" style="display: none;"
                 kendo-dialog="ConfirmDeleteAnontation" k-title="'Xác nhận xóa annotation'" k-on-open="dialogVisible = true"
                 k-width="450" k-visible="false"
                 k-actions="ConfirmDeleteAnontationActions" k-modal="true">
                <div class="windows-content"><p>Bạn có chắc chắn muốn xóa toàn bộ annotation</p></div>
            </div>

            <div id="dlgKeyImageDetail" style="display: none;">
                <div class="windows-content">
                    <div class="pd-bottom-15" style="align-items: center;">
                        <div class="pd-bottom-10">
                            Tiêu đề:
                        </div>
                        <div class="flex-row">
                            <input id="txtKeyImageTitle" type="text" class="bordered-input pd-left-10" placeholder="Nhập tiêu đề" />
                        </div>
                    </div>
                    <div class="pd-bottom-15" style="align-items: center;">
                        <div class="pd-bottom-10">
                            Ghi chú:
                        </div>
                        <div class="flex-row">
                            <textarea id="txtKeyImageNote" class="bordered-input pd-left-10 pd-top-8" placeholder="Nhập ghi chú cho key image" rows="5"></textarea>
                        </div>
                    </div>
                </div>
                <div class="windows-footer">
                    <button id="btnCloseKeyImage" class="btn btn-danger"><i class="fas fa-times"></i>&ensp;Hủy</button>
                    <button id="btnSaveKeyImage" class="btn btn-success mg-left-10"><i class="fas fa-upload"></i>&ensp;Lưu</button>
                    <div class="mg-left-20"></div>
                </div>
            </div>

            <div id="dlgSlideSettings" style="display: none;">
                <div class="windows-content">
                    <div class="pd-bottom-10" onclick="mscdps.clickChildCheckBox(this)">
                        <input id="keyimage-use-constraint" type="checkbox" 
                               onchange="mscdps.setActiveConstraintField(this.checked)"
                               /> <span>Sử dụng tỉ lệ cho key image</span>
                    </div>
                    <div class="flex-row pd-bottom-15" style="align-items: center">
                        <input id="keyimage-ratio-width" 
                               type="number" 
                               class="bordered-input pd-left-10 mg-right-10 keyimage-constraint-field" 
                               placeholder="Chiều rộng" min="1" step="1" />
                        : 
                        <input id="keyimage-ratio-height" type="number" class="bordered-input pd-left-10 mg-left-10 keyimage-constraint-field" 
                               placeholder="Chiều cao" min="1" step="1"/>
                    </div>
                    
                    <div class="pd-bottom-15" style="align-items: center;">
                        <div class="pd-bottom-10">
                            Chiều rộng keyimage khi chụp nhanh (px):
                        </div>
                        <div class="flex-row">
                            <input id="keyimage-pixel-width" type="number" class="bordered-input pd-left-10" placeholder="Độ rộng" min="1" step="1"
                                   />
                        </div>
                    </div>
                </div>
                
                <div class="windows-footer">
                    <button class="btn btn-danger" onclick="mscdps.closeUserSettings()"><i class="fas fa-times"></i>&ensp;Hủy</button>
                    <button id="btn_saveSettings" class="btn btn-success mg-left-10" onclick="mscdps.saveUserSettings()"><i class="fas fa-save"></i>&ensp;Lưu</button>
                    <div class="mg-left-20"></div>
                </div>
            </div>

            <div id="dlgSlideDetail" style="display: none;">
                <div class="windows-content">
                    <div class="flex-row">
                        <div style="padding-right: 20px; padding-top: 10px;">
                            <!-- <img id="{{SlideDetail.data.Id}}" src="/api/Slide/GetThumbnailLabel/{{SlideDetail.data.Id}}" style="cursor: pointer; width: 200px;" data-label-path="{{SlideDetail.data.LabelPath}}" onclick="openModalImage(this)"/> -->
                        </div>
                        <div class="slide-properties">
                            <div>
                                Tên file: <b><span id="lblSlideFileName"></span></b>
                            </div>
                            <div>
                                Người tải: <b><span id="lblSlideCreator"></span></b>
                            </div>
                            <div>
                                Ngày tải: <b><span id="lblSlideCreatedDate"></span></b>
                            </div>
                            <div>
                                Bệnh nhân: <b><span id="lblSlidePatientName"></span></b>
                            </div>
                            <div>
                                Thiết bị: <b><span id="lblSlideDevice"></span></b>
                            </div>
                            <div>
                                Kích thước: <b><span id="lblSlideFileSize"></span> MB</b>
                            </div>
                            <div>
                                Độ phân giải: <b><span id="lblSlideResolution"></span></b>
                            </div>
                            <div>
                                Kích thước:  <b><span id="lblSlideRealSize"></span></b>
                            </div>
                            <div>
                                Loại ảnh: <b><span id="lblSlideFileType"></span></b>
                            </div>
                            <div>
                                Max Magnification: <b><span id="lblSlideMaxMagnification"></span></b>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="dlgSlideHelper" style="display: none;">
                <div class="windows-content">
                    <ul> Annotation
                        <li>
                            Kéo chuột để vẽ
                        </li>
                        <li>
                            Giữ Ctrl để chọn annotation
                        </li>
                        <li>
                            Giữ Alt để ẩn annotation
                        </li>
                    <li>
                        Nhấn 1-9 để zoom đến vị trí con trỏ chuột
                    </li>
                   
                    </ul>
                    <ul>
                        <li>Nhấn <b>K</b> để chụp nhanh key image</li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</html>